\documentclass[]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{setspace}

%opening
\title{Residuals with temporal strings}
\author{}
\date{}
\onehalfspacing
\begin{document}

%\maketitle
\noindent

\noindent
\begin{math}
	\text{Fix } A \text{ as } \{ a, b, c \}
\end{math}
\begin{flalign*}
	\mathcal{L}_A = \{ \epsilon, &|a|, |b|, |c|, |a,b|, |b,c|, |a,c|, |a,b,c|, |a|b|, |a|c|,|b|a|, |b|c|,& \\& |c|a|, |c|b|, |a|b,c|, |b|a,c|, |c|a,b|, |a,b|c|, |a,c|b|, |b,c|a|, \\&|a|b|c|, |a|c|b|, |b|a|c|, |b|c|a|, |c|b|a|, |c|a|b| \}
\end{flalign*}
\begin{math}
	\text{Let } L \text{ be } \{ |a|c| \}\text{, and } L' \text{ be } \{ |b|c| \}\\
	\text{Thus, }gap(L, L') = \{ |a,b|, |a|b|, |a|c| \}
\end{math}

\vspace{1em}
\noindent
\begin{math}
	\llbracket{}L\rrbracket{}_A  = \{ |a|c|, |a|b|c|, |b|a|c|, |b,a|c|, |a|b,c|, |a|c|b| \}\\
	\llbracket{}L'\rrbracket{}_A = \{ |a,b|c|, |b|a,c|, |a|b|c|, |b|c|, |b|c|a|, |b|a|c| \}
\end{math}

\noindent
\begin{flalign*}
res_A(L,L') = \{ &|b,a,c|, |b,c|a|, |c|a|b|, |b,a|c|, |a|b|, |a|b,c|,|c|b|a|, |a|b|c|,&\\ & |b|a|c|, |a|c|b|, |c|b|, |a,c|b|, |a|c|, |b,a|, |c|b,a|, |b,c| \}
\end{flalign*}

\noindent
\begin{math}
L \& L' = \{ |a,b|c|, |a|b|c|, |b|a|c| \}\\
(L \& L')_\downarrow{} = \{ \epsilon, |a|, |b|, |c|, |a,b|, |a|b|, |b|c|, |b|a|, |a|c|, |a,b|c|, |a|b|c|, |b|a|c| \}
\end{math}
\begin{flalign*}
\llbracket{}(L \& L')_\downarrow{}\rrbracket{}_A = \{ \epsilon, &|a|, |b|, |c|, |a,b|, |b,c|, |a,c|, |a,b,c|, |a|b|, |a|c|,|b|a|, |b|c|,& \\& |c|a|, |c|b|, |a|b,c|, |b|a,c|, |c|a,b|, |a,b|c|, |a,c|b|, |b,c|a|, \\&|a|b|c|, |a|c|b|, |b|a|c|, |b|c|a|, |c|b|a|, |c|a|b| \}
\end{flalign*}

\noindent
\begin{math}
	\therefore \llbracket{}(L \& L')_\downarrow{}\rrbracket{}_A = \mathcal{L}_A\\
	\therefore \llbracket{}(L \& L')_\downarrow{}\rrbracket{}_A \cap res_A(L,L') = res_A(L,L')
\end{math}

\begin{flalign*}
\text{but } \llbracket{}gap(L, L')\rrbracket{}_A = \{ &|a,b,c|, |a,b|, |a|b|, |a|c|, |a,b|c|, |a,c|b|, |a|b,c|,& \\&|c|a,b|, |a|b|c|, |a|c|b|, |b|a|c|, |c|a|b| \}\\
\neq \text{\vphantom{\{ } }&res_A(L,L')
\end{flalign*}

\noindent
\begin{math}
\therefore \llbracket{}gap(L, L')\rrbracket{}_A \neq \llbracket{}(L \& L')_\downarrow{}\rrbracket{}_A \cap res_A(L,L')
\end{math}

\newpage
\noindent
However,\\
\begin{math}
(L \& L')_\downarrow{} \cap res_A(L,L') = \{ |a,b|, |a|b|, |a|c|, |a,b|c|, |a|b|c|, |b|a|c| \}
\end{math}
\begin{flalign*}
\llbracket{}(L \& L')_\downarrow{} \cap res_A(L,L')\rrbracket{}_A = \{ &|a,b,c|, |a,b|, |a|b|, |a|c|, |a,b|c|, |a,c|b|, |a|b,c|,& \\&|c|a,b|, |a|b|c|, |a|c|b|, |b|a|c|, |c|a|b| \}\\
= \text{\vphantom{\{ } }&\llbracket{}gap(L, L')\rrbracket{}_A
\end{flalign*}
\end{document}
